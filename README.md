
# Smart Car

A smart car controlled by a smartphone. Project was written with C using Drivers were developed by me, except for the ToF sensor, for which I used the API provided by STM.

Project is not finished, currently working on implemention of GPS.

# Development Environment
- Code Editor: Visual Studio Code
- Debugger: GDB - Cortex-Debug Addon
- Compiler: GCC
- Peripheral Code Generation: CubeMX
- Version Control: Git

# Description
Currently, there are two tasks:
````
vLORA_Rx_Task.
````
Task 1 has the highest priority. The task waits in blocking mode until the `EXTI2_IRQHandler` interrupt occurs. This interrupt is generated when LoRa is receiving data, and the interrupt service routine notifies the task.

The task is responsible for receiving data of the button state, setting the proper motor speed and direction, and if the motor is in reverse, enabling the `EXTI3` interrupt for the safe reverse system.

````
 vReversing
````

Task 2 has the second highest priority. The task waits for a notification from `EXTI3`. This interrupt is generated by the ToF sensor. Function `EXTI3_IRQHandler` notifies Task 2, which handles the distance data from the sensor. If the distance exceeds the specified limit, the buzzer will start toggling. If the distance from the obstacle is too close, the buzzer will sound continuously, and the motor will stop reversing.

Additionally, there is another interrupt `DMA1_Channel1`, which is used to signal that the DMA transfer from the RGB LED is finished, where the proper flags are cleared.

# Technologies Used
- FreeRTOS
- I2C, SPI, UART
- TIM, PWM
- DMA
- EXTI
- WebSocket

# Components Used
- STMG491RE Nucleo
- ESP8266 NodeMCU
- 5V DC and 12V DC motor's
- L298N - motor's controller
- SX1278 - LoRa module
- WS2812b - ARGB Led
- VL53L0X - laser distance sensor
- GY-NEO6MV2 - GPS
- Pasive Buzzer

